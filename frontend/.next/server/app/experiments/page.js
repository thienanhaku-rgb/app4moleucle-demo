(()=>{var e={};e.id=992,e.ids=[992],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},7475:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>d});var t=s(570),a=s(8179),l=s(2696),i=s.n(l),n=s(5666),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(r,o);let d=["",{children:["experiments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3712)),"/app/frontend/src/app/experiments/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8842)),"/app/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,4084,23)),"next/dist/client/components/not-found-error"]}],c=["/app/frontend/src/app/experiments/page.tsx"],x="/experiments/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/experiments/page",pathname:"/experiments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1640:(e,r,s)=>{Promise.resolve().then(s.bind(s,8349))},5877:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,s(6661).Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},8349:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>Z});var t=s(9805),a=s(3327),l=s(2832),i=s(2683),n=s(8725),o=s(5374),d=s(5015),c=s(1237),x=s(5280),m=s(6661);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,m.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var p=s(800),h=s(1161),f=s(5877);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let b=(0,m.Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var j=s(6507),g=s(2600),v=s(4064),y=s(338),N=s(8429),w=s(5077),k=s(90),q=s(4353),_=s(7594);let C={your_model:o.Z,molt5:d.Z,chemberta:c.Z};function P(){let[e,r]=(0,a.useState)([]),[s,d]=(0,a.useState)(null),[c,m]=(0,a.useState)([]),[P,Z]=(0,a.useState)(!1),[S,E]=(0,a.useState)(!1),[M,z]=(0,a.useState)(""),[G,D]=(0,a.useState)(""),[A,F]=(0,a.useState)(""),[I,R]=(0,a.useState)(["your_model"]),[$,H]=(0,a.useState)(!1),[O,T]=(0,a.useState)(null),[X,B]=(0,a.useState)(null),J=(0,a.useCallback)(async()=>{Z(!0);try{let e=await k.sD.list();r(e)}catch(e){n.toast.error("Failed to load experiments")}finally{Z(!1)}},[]),K=(0,a.useCallback)(async e=>{try{let r=await k.sD.getRuns(e);m(r)}catch(e){console.error("Failed to load runs")}},[]);(0,a.useEffect)(()=>{J()},[J]),(0,a.useEffect)(()=>{s&&K(s.id)},[s,K]);let L=async()=>{if(!M.trim()){n.toast.error("Please enter experiment name");return}try{let e=await k.sD.create({name:M,description:G});r(r=>[e,...r]),z(""),D(""),E(!1),d(e),n.toast.success("Experiment created")}catch(e){n.toast.error("Failed to create experiment")}},Q=async()=>{if(s&&A.trim()){if(0===I.length){n.toast.error("Please select at least one model");return}H(!0);try{let e=await k.sD.generateInExperiment(s.id,{prompt:A,models:I});m(r=>[e,...r]),B(e),e.results.length>0&&T(e.results[0].smiles),F(""),n.toast.success("Generation complete"),d(e=>e?{...e,run_count:(e.run_count||0)+1}:null)}catch(e){n.toast.error("Generation failed")}finally{H(!1)}}},U=e=>{R(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])};return t.jsx(y.Zn,{children:(0,t.jsxs)("div",{className:"flex h-full overflow-hidden",children:[(0,t.jsxs)("div",{className:"w-80 border-r border-border bg-card/30 flex flex-col",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-border/50",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h2",{className:"text-lg font-bold flex items-center gap-2",children:[t.jsx(x.Z,{className:"w-5 h-5 text-primary"}),"Experiments"]}),(0,t.jsxs)(N.zx,{size:"sm",onClick:()=>E(!0),children:[t.jsx(u,{className:"w-4 h-4 mr-1"}),"New"]})]}),t.jsx(l.M,{children:S&&(0,t.jsxs)(i.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-3 overflow-hidden",children:[t.jsx(N.II,{placeholder:"Experiment name",value:M,onChange:e=>z(e.target.value)}),t.jsx(N.II,{placeholder:"Description (optional)",value:G,onChange:e=>D(e.target.value)}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(N.zx,{size:"sm",onClick:L,className:"flex-1",children:"Create"}),t.jsx(N.zx,{size:"sm",variant:"outline",onClick:()=>E(!1),children:"Cancel"})]})]})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:P?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx(p.Z,{className:"w-6 h-6 animate-spin text-primary"})}):0===e.length?(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground text-sm",children:["No experiments yet.",t.jsx("br",{}),"Create your first experiment!"]}):e.map(e=>(0,t.jsxs)("div",{onClick:()=>{d(e),B(null),T(null)},className:(0,q.cn)("p-3 rounded-xl cursor-pointer transition-all border-2",s?.id===e.id?"bg-primary/10 border-primary":"bg-card border-transparent hover:border-border hover:bg-muted/30"),children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-semibold text-sm truncate",children:e.name}),e.description&&t.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:e.description})]}),t.jsx(h.Z,{className:"w-4 h-4 text-muted-foreground flex-shrink-0 mt-0.5"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-2 text-[10px] text-muted-foreground",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[t.jsx(f.Z,{className:"w-3 h-3"}),e.run_count||0," runs"]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[t.jsx(b,{className:"w-3 h-3"}),(0,q.p)(e.updated_at)]})]})]},e.id))})]}),t.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"p-6 border-b border-border/50 bg-card/30",children:[t.jsx("h1",{className:"text-2xl font-bold",children:s.name}),s.description&&t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.description})]}),(0,t.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,t.jsxs)("div",{className:"w-[400px] border-r border-border p-4 flex flex-col overflow-y-auto",children:[t.jsx("h3",{className:"text-sm font-bold text-muted-foreground uppercase tracking-wider mb-4",children:"New Generation"}),(0,t.jsxs)("div",{className:"space-y-4 flex-1",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-muted-foreground",children:"Prompt"}),t.jsx("textarea",{className:"w-full bg-background border border-border text-foreground p-3 min-h-[100px] rounded-lg resize-none text-sm",placeholder:"Describe the molecule...",value:A,onChange:e=>F(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-muted-foreground",children:"Models"}),t.jsx("div",{className:"space-y-2",children:_.k.map(e=>{let r=C[e.id]||o.Z,s=I.includes(e.id);return(0,t.jsxs)("div",{onClick:()=>U(e.id),className:(0,q.cn)("flex items-center p-2 rounded-lg border cursor-pointer transition-all",s?"bg-primary/10 border-primary":"border-border hover:border-primary/50"),children:[t.jsx(r,{className:(0,q.cn)("w-4 h-4 mr-2",s?"text-primary":"text-muted-foreground")}),t.jsx("span",{className:"text-sm font-medium flex-1",children:e.name}),s&&t.jsx(j.Z,{className:"w-4 h-4 text-primary"})]},e.id)})})]})]}),(0,t.jsxs)(N.zx,{onClick:Q,disabled:$||!A.trim()||0===I.length,className:"w-full mt-4",children:[$?t.jsx(p.Z,{className:"w-4 h-4 mr-2 animate-spin"}):t.jsx(g.Z,{className:"w-4 h-4 mr-2"}),"Generate"]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsxs)("h3",{className:"text-sm font-bold text-muted-foreground uppercase tracking-wider mb-3",children:["Run History (",c.length,")"]}),t.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:c.map(e=>(0,t.jsxs)("div",{onClick:()=>{B(e),e.results.length>0&&T(e.results[0].smiles)},className:(0,q.cn)("p-3 rounded-lg border cursor-pointer transition-all",X?.id===e.id?"bg-primary/10 border-primary":"border-border hover:border-primary/50"),children:[t.jsx("p",{className:"text-sm font-medium truncate",children:(0,q.$)(e.prompt,40)}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-[10px] text-muted-foreground",children:[(0,t.jsxs)("span",{children:[e.results.length," results"]}),t.jsx("span",{children:"â€¢"}),t.jsx("span",{children:(0,q.p)(e.created_at)})]})]},e.id))})]})]}),t.jsx("div",{className:"flex-1 p-6 bg-muted/10 flex flex-col",children:O?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex-1 rounded-2xl overflow-hidden border border-border bg-card relative min-h-[400px]",children:[t.jsx(w.i,{smiles:O,className:"w-full h-full"}),t.jsx("div",{className:"absolute bottom-4 left-4 right-4 bg-background/90 backdrop-blur px-3 py-2 rounded-lg border border-border",children:t.jsx("code",{className:"text-xs font-mono text-foreground break-all",children:O})})]}),X&&X.results.length>1&&(0,t.jsxs)("div",{className:"mt-4",children:[t.jsx("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2",children:"All Results"}),t.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:X.results.map((e,r)=>t.jsx("div",{onClick:()=>T(e.smiles),className:(0,q.cn)("flex-shrink-0 w-32 h-24 rounded-lg border overflow-hidden cursor-pointer transition-all",e.smiles===O?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"),children:t.jsx(w.i,{smiles:e.smiles})},r))})]})]}):t.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx(v.Z,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Generate a molecule or select a run to view"})]})})})]})]}):t.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx(x.Z,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),t.jsx("h2",{className:"text-xl font-bold mb-2",children:"Select an Experiment"}),t.jsx("p",{className:"text-sm",children:"Choose an experiment from the list or create a new one"})]})})})]})})}function Z(){return t.jsx(P,{})}},3712:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$typeof:()=>l,__esModule:()=>a,default:()=>i});let t=(0,s(389).createProxy)(String.raw`/app/frontend/src/app/experiments/page.tsx`),{__esModule:a,$$typeof:l}=t,i=t.default}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[244,994,504,670],()=>s(7475));module.exports=t})();