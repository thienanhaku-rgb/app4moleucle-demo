(()=>{var e={};e.id=17,e.ids=[17],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},1058:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(570),a=r(8179),i=r(2696),n=r.n(i),l=r(5666),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["simulation",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7803)),"/app/frontend/src/app/simulation/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,8842)),"/app/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,4084,23)),"next/dist/client/components/not-found-error"]}],c=["/app/frontend/src/app/simulation/page.tsx"],u="/simulation/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/simulation/page",pathname:"/simulation",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1444:(e,t,r)=>{Promise.resolve().then(r.bind(r,2303))},3351:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(6661).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},800:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(6661).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},5877:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(6661).Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},2303:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var s=r(9805),a=r(3327),i=r(2683),n=r(8725),l=r(5851),o=r(1237),d=r(6661);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,d.Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),u=(0,d.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var m=r(3351),p=r(800),x=r(5877);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,d.Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),f=(0,d.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),g=(0,d.Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);var b=r(338),y=r(8429),j=r(5077),v=r(4353);let N=[{id:"covid_protease",name:"SARS-CoV-2 Main Protease",pdbId:"6LU7",description:"COVID-19 drug target"},{id:"hiv_protease",name:"HIV-1 Protease",pdbId:"1HSG",description:"HIV drug target"},{id:"breast_cancer",name:"Estrogen Receptor Alpha",pdbId:"3ERT",description:"Breast cancer target"}];function w(){var e;let[t,r]=(0,a.useState)(""),[d,w]=(0,a.useState)(null),[k,C]=(0,a.useState)(!1),[S,_]=(0,a.useState)(null),[q,M]=(0,a.useState)(!1),P=async()=>{if(!t.trim()){n.toast.error("Please enter a ligand SMILES");return}if(!d){n.toast.error("Please select a target protein");return}C(!0),_(null);try{let e=await fetch("https://moleculeviz.preview.emergentagent.com/api/simulation/docking/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ligand_smiles:t,target_id:d})});if(!e.ok)throw Error("Simulation failed");let r=await e.json();_(r),n.toast.success("Docking simulation complete!")}catch(e){n.toast.error("Simulation failed. Please check your SMILES input."),console.error(e)}finally{C(!1)}},E=e=>e<=-8?"text-green-500":e<=-6?"text-yellow-500":"text-red-500",Z=N.find(e=>e.id===d);return s.jsx(b.Zn,{children:(0,s.jsxs)("div",{className:"flex h-full overflow-hidden",children:[(0,s.jsxs)("div",{className:"w-[400px] border-r border-border bg-card/30 flex flex-col overflow-y-auto",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-border/50",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(l.Z,{className:"w-6 h-6 text-primary"}),"Molecular Docking"]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Simulate protein-ligand interactions"})]}),(0,s.jsxs)("div",{className:"p-6 space-y-6 flex-1",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[s.jsx(o.Z,{className:"w-3.5 h-3.5"}),"Ligand SMILES"]}),s.jsx(y.II,{className:"font-mono text-sm",placeholder:"e.g. CC(=O)OC1=CC=CC=C1C(=O)O",value:t,onChange:e=>r(e.target.value)}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[{name:"Aspirin",smiles:"CC(=O)OC1=CC=CC=C1C(=O)O"},{name:"Caffeine",smiles:"CN1C=NC2=C1C(=O)N(C(=O)N2C)C"},{name:"Ibuprofen",smiles:"CC(C)Cc1ccc(C(C)C(=O)O)cc1"}].map(e=>s.jsx(y.zx,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>r(e.smiles),children:e.name},e.name))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[s.jsx(c,{className:"w-3.5 h-3.5"}),"Target Protein"]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{onClick:()=>M(!q),className:(0,v.cn)("w-full p-3 rounded-lg border cursor-pointer transition-all flex items-center justify-between",d?"bg-primary/5 border-primary":"bg-background border-border hover:border-primary/50"),children:[Z?(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:Z.name}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["PDB: ",Z.pdbId]})]}):s.jsx("span",{className:"text-muted-foreground text-sm",children:"Select a target protein..."}),s.jsx(u,{className:(0,v.cn)("w-4 h-4 transition-transform",q&&"rotate-180")})]}),q&&s.jsx(i.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute top-full left-0 right-0 mt-1 bg-card border border-border rounded-lg shadow-lg z-10 overflow-hidden",children:N.map(e=>(0,s.jsxs)("div",{onClick:()=>{w(e.id),M(!1)},className:(0,v.cn)("p-3 cursor-pointer transition-all hover:bg-muted/50",d===e.id&&"bg-primary/10"),children:[s.jsx("p",{className:"font-medium text-sm",children:e.name}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.description," â€¢ PDB: ",e.pdbId]})]},e.id))})]})]}),s.jsx("div",{className:"bg-muted/30 rounded-lg p-4 border border-border/50",children:(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[s.jsx(m.Z,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:[s.jsx("p",{className:"font-medium text-foreground mb-1",children:"About Molecular Docking"}),s.jsx("p",{children:"This simulation predicts how a small molecule (ligand) binds to a protein target. Lower binding affinity (more negative) indicates stronger binding."})]})]})})]}),s.jsx("div",{className:"p-6 border-t border-border/50",children:(0,s.jsxs)(y.zx,{onClick:P,disabled:k||!t.trim()||!d,className:"w-full h-12",children:[k?s.jsx(p.Z,{className:"w-5 h-5 mr-2 animate-spin"}):s.jsx(x.Z,{className:"w-5 h-5 mr-2"}),"Run Docking Simulation"]})})]}),s.jsx("div",{className:"flex-1 bg-muted/10 p-6 overflow-y-auto",children:S?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card border border-border rounded-2xl p-6",children:[(0,s.jsxs)("h3",{className:"text-sm font-bold text-muted-foreground uppercase tracking-wider mb-4 flex items-center gap-2",children:[s.jsx(h,{className:"w-4 h-4"}),"Binding Affinity"]}),(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("p",{className:(0,v.cn)("text-5xl font-bold",E(S.affinity)),children:S.affinity}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"kcal/mol"})]}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("p",{className:(0,v.cn)("font-semibold",E(S.affinity)),children:(e=S.affinity)<=-8?"Strong binding":e<=-6?"Moderate binding":"Weak binding"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:S.affinity<=-8?"This compound shows promising binding potential.":S.affinity<=-6?"Moderate interaction detected.":"Consider structural modifications."})]})]})]}),(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card border border-border rounded-2xl p-6",children:[(0,s.jsxs)("h3",{className:"text-sm font-bold text-muted-foreground uppercase tracking-wider mb-4 flex items-center gap-2",children:[s.jsx(f,{className:"w-4 h-4"}),"Energy Breakdown"]}),s.jsx("div",{className:"space-y-4",children:[{label:"Van der Waals",value:S.score_breakdown.van_der_waals,color:"bg-blue-500"},{label:"Electrostatic",value:S.score_breakdown.electrostatic,color:"bg-purple-500"},{label:"Desolvation",value:S.score_breakdown.desolvation,color:"bg-orange-500"}].map(e=>(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-muted-foreground",children:e.label}),(0,s.jsxs)("span",{className:"font-mono",children:[e.value," kcal/mol"]})]}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:(0,v.cn)("h-full rounded-full",e.color),style:{width:`${Math.min(10*Math.abs(e.value),100)}%`}})})]},e.label))})]}),(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card border border-border rounded-2xl p-6",children:[(0,s.jsxs)("h3",{className:"text-sm font-bold text-muted-foreground uppercase tracking-wider mb-4 flex items-center gap-2",children:[s.jsx(g,{className:"w-4 h-4"}),"Ligand Structure"]}),s.jsx("div",{className:"h-[400px] rounded-xl overflow-hidden border border-border",children:s.jsx(j.i,{smiles:t,className:"w-full h-full"})})]})]}):s.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(l.Z,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),s.jsx("h2",{className:"text-xl font-bold mb-2",children:"Run a Simulation"}),s.jsx("p",{className:"text-sm max-w-md",children:"Enter a ligand SMILES and select a target protein to simulate molecular docking."})]})})})]})})}function k(){return s.jsx(w,{})}},5077:(e,t,r)=>{"use strict";r.d(t,{i:()=>n});var s=r(9805),a=r(3327),i=r(90);function n({smiles:e,className:t,overlaySmiles:r}){let n=(0,a.useRef)(null),l=(0,a.useRef)(null),[o,d]=(0,a.useState)(!1),c=(0,a.useRef)(null);return(0,a.useEffect)(()=>{},[]),(0,a.useEffect)(()=>{if(!l.current||!o||!c.current)return;let t=c.current;if(!n.current){let e=t.createViewer(l.current,{backgroundColor:"rgba(0,0,0,0)"});n.current=e}let s=n.current;(async()=>{if(s.clear(),e)try{let t=await i.zG.get3DStructure(e);t&&t.sdf&&s.addModel(t.sdf,"sdf").setStyle({},{stick:{radius:.15,colorscheme:"Jmol"},sphere:{scale:.25}})}catch(e){console.error(e)}if(r)try{let e=await i.zG.get3DStructure(r);e&&e.sdf&&s.addModel(e.sdf,"sdf").setStyle({},{stick:{radius:.15,color:"#00FFFF",opacity:.7},sphere:{scale:.25,color:"#00FFFF",opacity:.7}})}catch(e){console.error(e)}s.zoomTo(),s.render()})()},[e,r,o]),s.jsx("div",{ref:l,className:`relative w-full h-full min-h-[300px] bg-transparent ${t}`,children:!o&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin"})})})}},7803:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let s=(0,r(389).createProxy)(String.raw`/app/frontend/src/app/simulation/page.tsx`),{__esModule:a,$$typeof:i}=s,n=s.default}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[244,994,504],()=>r(1058));module.exports=s})();