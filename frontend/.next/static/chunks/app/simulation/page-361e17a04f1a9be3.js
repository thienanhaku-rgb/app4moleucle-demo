(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[17],{8276:function(e,t,r){Promise.resolve().then(r.bind(r,9053))},7169:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(6396).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},7069:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(6396).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7130:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(6396).Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},9053:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var s=r(4297),a=r(3812),l=r(6738),i=r(3745),n=r(1460),c=r(7309),d=r(6396);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,d.Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),m=(0,d.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var u=r(7169),x=r(7069),f=r(7130);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,d.Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),p=(0,d.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),b=(0,d.Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);var g=r(2845),y=r(1354),j=r(3322),N=r(5917);let v=[{id:"covid_protease",name:"SARS-CoV-2 Main Protease",pdbId:"6LU7",description:"COVID-19 drug target"},{id:"hiv_protease",name:"HIV-1 Protease",pdbId:"1HSG",description:"HIV drug target"},{id:"breast_cancer",name:"Estrogen Receptor Alpha",pdbId:"3ERT",description:"Breast cancer target"}];function w(){var e;let[t,r]=(0,a.useState)(""),[d,w]=(0,a.useState)(null),[k,C]=(0,a.useState)(!1),[S,M]=(0,a.useState)(null),[E,Z]=(0,a.useState)(!1),O=async()=>{if(!t.trim()){i.toast.error("Please enter a ligand SMILES");return}if(!d){i.toast.error("Please select a target protein");return}C(!0),M(null);try{let e=await fetch("".concat("https://moleculeviz.preview.emergentagent.com","/api/simulation/docking/run"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ligand_smiles:t,target_id:d})});if(!e.ok)throw Error("Simulation failed");let r=await e.json();M(r),i.toast.success("Docking simulation complete!")}catch(e){i.toast.error("Simulation failed. Please check your SMILES input."),console.error(e)}finally{C(!1)}},I=e=>e<=-8?"text-green-500":e<=-6?"text-yellow-500":"text-red-500",_=v.find(e=>e.id===d);return(0,s.jsx)(g.Zn,{children:(0,s.jsxs)("div",{className:"flex h-full overflow-hidden",children:[(0,s.jsxs)("div",{className:"w-[400px] border-r border-border bg-card/30 flex flex-col overflow-y-auto",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-border/50",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2",children:[(0,s.jsx)(n.Z,{className:"w-6 h-6 text-primary"}),"Molecular Docking"]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Simulate protein-ligand interactions"})]}),(0,s.jsxs)("div",{className:"p-6 space-y-6 flex-1",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[(0,s.jsx)(c.Z,{className:"w-3.5 h-3.5"}),"Ligand SMILES"]}),(0,s.jsx)(y.II,{className:"font-mono text-sm",placeholder:"e.g. CC(=O)OC1=CC=CC=C1C(=O)O",value:t,onChange:e=>r(e.target.value)}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:[{name:"Aspirin",smiles:"CC(=O)OC1=CC=CC=C1C(=O)O"},{name:"Caffeine",smiles:"CN1C=NC2=C1C(=O)N(C(=O)N2C)C"},{name:"Ibuprofen",smiles:"CC(C)Cc1ccc(C(C)C(=O)O)cc1"}].map(e=>(0,s.jsx)(y.zx,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>r(e.smiles),children:e.name},e.name))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wider flex items-center gap-2",children:[(0,s.jsx)(o,{className:"w-3.5 h-3.5"}),"Target Protein"]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{onClick:()=>Z(!E),className:(0,N.cn)("w-full p-3 rounded-lg border cursor-pointer transition-all flex items-center justify-between",d?"bg-primary/5 border-primary":"bg-background border-border hover:border-primary/50"),children:[_?(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-sm",children:_.name}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["PDB: ",_.pdbId]})]}):(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"Select a target protein..."}),(0,s.jsx)(m,{className:(0,N.cn)("w-4 h-4 transition-transform",E&&"rotate-180")})]}),E&&(0,s.jsx)(l.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute top-full left-0 right-0 mt-1 bg-card border border-border rounded-lg shadow-lg z-10 overflow-hidden",children:v.map(e=>(0,s.jsxs)("div",{onClick:()=>{w(e.id),Z(!1)},className:(0,N.cn)("p-3 cursor-pointer transition-all hover:bg-muted/50",d===e.id&&"bg-primary/10"),children:[(0,s.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.description," â€¢ PDB: ",e.pdbId]})]},e.id))})]})]}),(0,s.jsx)("div",{className:"bg-muted/30 rounded-lg p-4 border border-border/50",children:(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(0,s.jsx)("p",{className:"font-medium text-foreground mb-1",children:"About Molecular Docking"}),(0,s.jsx)("p",{children:"This simulation predicts how a small molecule (ligand) binds to a protein target. Lower binding affinity (more negative) indicates stronger binding."})]})]})})]}),(0,s.jsx)("div",{className:"p-6 border-t border-border/50",children:(0,s.jsxs)(y.zx,{onClick:O,disabled:k||!t.trim()||!d,className:"w-full h-12",children:[k?(0,s.jsx)(x.Z,{className:"w-5 h-5 mr-2 animate-spin"}):(0,s.jsx)(f.Z,{className:"w-5 h-5 mr-2"}),"Run Docking Simulation"]})})]}),(0,s.jsx)("div",{className:"flex-1 bg-muted/10 p-6 overflow-y-auto",children:S?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card border border-border rounded-2xl p-6",children:[(0,s.jsxs)("h3",{className:"text-sm font-bold text-muted-foreground uppercase tracking-wider mb-4 flex items-center gap-2",children:[(0,s.jsx)(h,{className:"w-4 h-4"}),"Binding Affinity"]}),(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:(0,N.cn)("text-5xl font-bold",I(S.affinity)),children:S.affinity}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"kcal/mol"})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:(0,N.cn)("font-semibold",I(S.affinity)),children:(e=S.affinity)<=-8?"Strong binding":e<=-6?"Moderate binding":"Weak binding"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:S.affinity<=-8?"This compound shows promising binding potential.":S.affinity<=-6?"Moderate interaction detected.":"Consider structural modifications."})]})]})]}),(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card border border-border rounded-2xl p-6",children:[(0,s.jsxs)("h3",{className:"text-sm font-bold text-muted-foreground uppercase tracking-wider mb-4 flex items-center gap-2",children:[(0,s.jsx)(p,{className:"w-4 h-4"}),"Energy Breakdown"]}),(0,s.jsx)("div",{className:"space-y-4",children:[{label:"Van der Waals",value:S.score_breakdown.van_der_waals,color:"bg-blue-500"},{label:"Electrostatic",value:S.score_breakdown.electrostatic,color:"bg-purple-500"},{label:"Desolvation",value:S.score_breakdown.desolvation,color:"bg-orange-500"}].map(e=>(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:e.label}),(0,s.jsxs)("span",{className:"font-mono",children:[e.value," kcal/mol"]})]}),(0,s.jsx)("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:(0,N.cn)("h-full rounded-full",e.color),style:{width:"".concat(Math.min(10*Math.abs(e.value),100),"%")}})})]},e.label))})]}),(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card border border-border rounded-2xl p-6",children:[(0,s.jsxs)("h3",{className:"text-sm font-bold text-muted-foreground uppercase tracking-wider mb-4 flex items-center gap-2",children:[(0,s.jsx)(b,{className:"w-4 h-4"}),"Ligand Structure"]}),(0,s.jsx)("div",{className:"h-[400px] rounded-xl overflow-hidden border border-border",children:(0,s.jsx)(j.i,{smiles:t,className:"w-full h-full"})})]})]}):(0,s.jsx)("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(n.Z,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),(0,s.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Run a Simulation"}),(0,s.jsx)("p",{className:"text-sm max-w-md",children:"Enter a ligand SMILES and select a target protein to simulate molecular docking."})]})})})]})})}function k(){return(0,s.jsx)(w,{})}},3322:function(e,t,r){"use strict";r.d(t,{i:function(){return i}});var s=r(4297),a=r(3812),l=r(9698);function i(e){let{smiles:t,className:i,overlaySmiles:n}=e,c=(0,a.useRef)(null),d=(0,a.useRef)(null),[o,m]=(0,a.useState)(!1),u=(0,a.useRef)(null);return(0,a.useEffect)(()=>{u.current||r.e(229).then(r.t.bind(r,3489,23)).then(e=>{u.current=e.default||e,m(!0)}).catch(e=>{console.error("Failed to load 3Dmol:",e)})},[]),(0,a.useEffect)(()=>{if(!d.current||!o||!u.current)return;let e=u.current;if(!c.current){let t=e.createViewer(d.current,{backgroundColor:"rgba(0,0,0,0)"});c.current=t}let r=c.current;(async()=>{if(r.clear(),t)try{let e=await l.zG.get3DStructure(t);e&&e.sdf&&r.addModel(e.sdf,"sdf").setStyle({},{stick:{radius:.15,colorscheme:"Jmol"},sphere:{scale:.25}})}catch(e){console.error(e)}if(n)try{let e=await l.zG.get3DStructure(n);e&&e.sdf&&r.addModel(e.sdf,"sdf").setStyle({},{stick:{radius:.15,color:"#00FFFF",opacity:.7},sphere:{scale:.25,color:"#00FFFF",opacity:.7}})}catch(e){console.error(e)}r.zoomTo(),r.render()})()},[t,n,o]),(0,s.jsx)("div",{ref:d,className:"relative w-full h-full min-h-[300px] bg-transparent ".concat(i),children:!o&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin"})})})}}},function(e){e.O(0,[126,978,980,681,452,744],function(){return e(e.s=8276)}),_N_E=e.O()}]);