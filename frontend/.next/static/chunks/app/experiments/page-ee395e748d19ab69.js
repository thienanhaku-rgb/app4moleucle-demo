(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[992],{2618:function(e,t,r){Promise.resolve().then(r.bind(r,1719))},2652:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(6396).Z)("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]])},9083:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(6396).Z)("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},4925:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(6396).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},3720:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(6396).Z)("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]])},7069:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(6396).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7130:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(6396).Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},1961:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(6396).Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},1719:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return S}});var s=r(4297),n=r(3812),l=r(2898),a=r(6738),i=r(3745),o=r(3720),c=r(2652),d=r(7309),u=r(5177),m=r(6396);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,m.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var x=r(7069),p=r(8002),f=r(7130);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let y=(0,m.Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var b=r(4925),j=r(1961),v=r(9083),g=r(2845),N=r(1354),k=r(3322),w=r(9698),M=r(5917),C=r(4773);let Z={your_model:o.Z,molt5:c.Z,chemberta:d.Z};function E(){let[e,t]=(0,n.useState)([]),[r,c]=(0,n.useState)(null),[d,m]=(0,n.useState)([]),[E,S]=(0,n.useState)(!1),[z,R]=(0,n.useState)(!1),[F,_]=(0,n.useState)(""),[P,D]=(0,n.useState)(""),[I,L]=(0,n.useState)(""),[G,T]=(0,n.useState)(["your_model"]),[B,A]=(0,n.useState)(!1),[O,V]=(0,n.useState)(null),[q,H]=(0,n.useState)(null),U=(0,n.useCallback)(async()=>{S(!0);try{let e=await w.sD.list();t(e)}catch(e){i.toast.error("Failed to load experiments")}finally{S(!1)}},[]),J=(0,n.useCallback)(async e=>{try{let t=await w.sD.getRuns(e);m(t)}catch(e){console.error("Failed to load runs")}},[]);(0,n.useEffect)(()=>{U()},[U]),(0,n.useEffect)(()=>{r&&J(r.id)},[r,J]);let W=async()=>{if(!F.trim()){i.toast.error("Please enter experiment name");return}try{let e=await w.sD.create({name:F,description:P});t(t=>[e,...t]),_(""),D(""),R(!1),c(e),i.toast.success("Experiment created")}catch(e){i.toast.error("Failed to create experiment")}},Y=async()=>{if(r&&I.trim()){if(0===G.length){i.toast.error("Please select at least one model");return}A(!0);try{let e=await w.sD.generateInExperiment(r.id,{prompt:I,models:G});m(t=>[e,...t]),H(e),e.results.length>0&&V(e.results[0].smiles),L(""),i.toast.success("Generation complete"),c(e=>e?{...e,run_count:(e.run_count||0)+1}:null)}catch(e){i.toast.error("Generation failed")}finally{A(!1)}}},$=e=>{T(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,s.jsx)(g.Zn,{children:(0,s.jsxs)("div",{className:"flex h-full overflow-hidden",children:[(0,s.jsxs)("div",{className:"w-80 border-r border-border bg-card/30 flex flex-col",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-border/50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h2",{className:"text-lg font-bold flex items-center gap-2",children:[(0,s.jsx)(u.Z,{className:"w-5 h-5 text-primary"}),"Experiments"]}),(0,s.jsxs)(N.zx,{size:"sm",onClick:()=>R(!0),children:[(0,s.jsx)(h,{className:"w-4 h-4 mr-1"}),"New"]})]}),(0,s.jsx)(l.M,{children:z&&(0,s.jsxs)(a.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-3 overflow-hidden",children:[(0,s.jsx)(N.II,{placeholder:"Experiment name",value:F,onChange:e=>_(e.target.value)}),(0,s.jsx)(N.II,{placeholder:"Description (optional)",value:P,onChange:e=>D(e.target.value)}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(N.zx,{size:"sm",onClick:W,className:"flex-1",children:"Create"}),(0,s.jsx)(N.zx,{size:"sm",variant:"outline",onClick:()=>R(!1),children:"Cancel"})]})]})})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:E?(0,s.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,s.jsx)(x.Z,{className:"w-6 h-6 animate-spin text-primary"})}):0===e.length?(0,s.jsxs)("div",{className:"text-center py-8 text-muted-foreground text-sm",children:["No experiments yet.",(0,s.jsx)("br",{}),"Create your first experiment!"]}):e.map(e=>(0,s.jsxs)("div",{onClick:()=>{c(e),H(null),V(null)},className:(0,M.cn)("p-3 rounded-xl cursor-pointer transition-all border-2",(null==r?void 0:r.id)===e.id?"bg-primary/10 border-primary":"bg-card border-transparent hover:border-border hover:bg-muted/30"),children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"font-semibold text-sm truncate",children:e.name}),e.description&&(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:e.description})]}),(0,s.jsx)(p.Z,{className:"w-4 h-4 text-muted-foreground flex-shrink-0 mt-0.5"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mt-2 text-[10px] text-muted-foreground",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(f.Z,{className:"w-3 h-3"}),e.run_count||0," runs"]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(y,{className:"w-3 h-3"}),(0,M.p)(e.updated_at)]})]})]},e.id))})]}),(0,s.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden",children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"p-6 border-b border-border/50 bg-card/30",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:r.name}),r.description&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:r.description})]}),(0,s.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,s.jsxs)("div",{className:"w-[400px] border-r border-border p-4 flex flex-col overflow-y-auto",children:[(0,s.jsx)("h3",{className:"text-sm font-bold text-muted-foreground uppercase tracking-wider mb-4",children:"New Generation"}),(0,s.jsxs)("div",{className:"space-y-4 flex-1",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-xs font-bold text-muted-foreground",children:"Prompt"}),(0,s.jsx)("textarea",{className:"w-full bg-background border border-border text-foreground p-3 min-h-[100px] rounded-lg resize-none text-sm",placeholder:"Describe the molecule...",value:I,onChange:e=>L(e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-xs font-bold text-muted-foreground",children:"Models"}),(0,s.jsx)("div",{className:"space-y-2",children:C.k.map(e=>{let t=Z[e.id]||o.Z,r=G.includes(e.id);return(0,s.jsxs)("div",{onClick:()=>$(e.id),className:(0,M.cn)("flex items-center p-2 rounded-lg border cursor-pointer transition-all",r?"bg-primary/10 border-primary":"border-border hover:border-primary/50"),children:[(0,s.jsx)(t,{className:(0,M.cn)("w-4 h-4 mr-2",r?"text-primary":"text-muted-foreground")}),(0,s.jsx)("span",{className:"text-sm font-medium flex-1",children:e.name}),r&&(0,s.jsx)(b.Z,{className:"w-4 h-4 text-primary"})]},e.id)})})]})]}),(0,s.jsxs)(N.zx,{onClick:Y,disabled:B||!I.trim()||0===G.length,className:"w-full mt-4",children:[B?(0,s.jsx)(x.Z,{className:"w-4 h-4 mr-2 animate-spin"}):(0,s.jsx)(j.Z,{className:"w-4 h-4 mr-2"}),"Generate"]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("h3",{className:"text-sm font-bold text-muted-foreground uppercase tracking-wider mb-3",children:["Run History (",d.length,")"]}),(0,s.jsx)("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:d.map(e=>(0,s.jsxs)("div",{onClick:()=>{H(e),e.results.length>0&&V(e.results[0].smiles)},className:(0,M.cn)("p-3 rounded-lg border cursor-pointer transition-all",(null==q?void 0:q.id)===e.id?"bg-primary/10 border-primary":"border-border hover:border-primary/50"),children:[(0,s.jsx)("p",{className:"text-sm font-medium truncate",children:(0,M.$)(e.prompt,40)}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-[10px] text-muted-foreground",children:[(0,s.jsxs)("span",{children:[e.results.length," results"]}),(0,s.jsx)("span",{children:"â€¢"}),(0,s.jsx)("span",{children:(0,M.p)(e.created_at)})]})]},e.id))})]})]}),(0,s.jsx)("div",{className:"flex-1 p-6 bg-muted/10 flex flex-col",children:O?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex-1 rounded-2xl overflow-hidden border border-border bg-card relative min-h-[400px]",children:[(0,s.jsx)(k.i,{smiles:O,className:"w-full h-full"}),(0,s.jsx)("div",{className:"absolute bottom-4 left-4 right-4 bg-background/90 backdrop-blur px-3 py-2 rounded-lg border border-border",children:(0,s.jsx)("code",{className:"text-xs font-mono text-foreground break-all",children:O})})]}),q&&q.results.length>1&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2",children:"All Results"}),(0,s.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:q.results.map((e,t)=>(0,s.jsx)("div",{onClick:()=>V(e.smiles),className:(0,M.cn)("flex-shrink-0 w-32 h-24 rounded-lg border overflow-hidden cursor-pointer transition-all",e.smiles===O?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"),children:(0,s.jsx)(k.i,{smiles:e.smiles})},t))})]})]}):(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(v.Z,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,s.jsx)("p",{children:"Generate a molecule or select a run to view"})]})})})]})]}):(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(u.Z,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),(0,s.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Select an Experiment"}),(0,s.jsx)("p",{className:"text-sm",children:"Choose an experiment from the list or create a new one"})]})})})]})})}function S(){return(0,s.jsx)(E,{})}},3322:function(e,t,r){"use strict";r.d(t,{i:function(){return a}});var s=r(4297),n=r(3812),l=r(9698);function a(e){let{smiles:t,className:a,overlaySmiles:i}=e,o=(0,n.useRef)(null),c=(0,n.useRef)(null),[d,u]=(0,n.useState)(!1),m=(0,n.useRef)(null);return(0,n.useEffect)(()=>{m.current||r.e(229).then(r.t.bind(r,3489,23)).then(e=>{m.current=e.default||e,u(!0)}).catch(e=>{console.error("Failed to load 3Dmol:",e)})},[]),(0,n.useEffect)(()=>{if(!c.current||!d||!m.current)return;let e=m.current;if(!o.current){let t=e.createViewer(c.current,{backgroundColor:"rgba(0,0,0,0)"});o.current=t}let r=o.current;(async()=>{if(r.clear(),t)try{let e=await l.zG.get3DStructure(t);e&&e.sdf&&r.addModel(e.sdf,"sdf").setStyle({},{stick:{radius:.15,colorscheme:"Jmol"},sphere:{scale:.25}})}catch(e){console.error(e)}if(i)try{let e=await l.zG.get3DStructure(i);e&&e.sdf&&r.addModel(e.sdf,"sdf").setStyle({},{stick:{radius:.15,color:"#00FFFF",opacity:.7},sphere:{scale:.25,color:"#00FFFF",opacity:.7}})}catch(e){console.error(e)}r.zoomTo(),r.render()})()},[t,i,d]),(0,s.jsx)("div",{ref:c,className:"relative w-full h-full min-h-[300px] bg-transparent ".concat(a),children:!d&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin"})})})}},4773:function(e,t,r){"use strict";r.d(t,{k:function(){return s}});let s=[{id:"your_model",name:"Your Model",description:"Custom trained model"},{id:"molt5",name:"MolT5",description:"Transformer for molecules"},{id:"chemberta",name:"ChemBERTa",description:"BERT-based chemistry model"}]},2898:function(e,t,r){"use strict";r.d(t,{M:function(){return y}});var s=r(4297),n=r(3812),l=r(1410),a=r(8659),i=r(2815),o=r(4387);class c extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:r}=e,l=(0,n.useId)(),a=(0,n.useRef)(null),i=(0,n.useRef)({width:0,height:0,top:0,left:0}),{nonce:d}=(0,n.useContext)(o._);return(0,n.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:n}=i.current;if(r||!a.current||!e||!t)return;a.current.dataset.motionPopId=l;let o=document.createElement("style");return d&&(o.nonce=d),document.head.appendChild(o),o.sheet&&o.sheet.insertRule('\n          [data-motion-pop-id="'.concat(l,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(s,"px !important;\n            left: ").concat(n,"px !important;\n          }\n        ")),()=>{document.head.removeChild(o)}},[r]),(0,s.jsx)(c,{isPresent:r,childRef:a,sizeRef:i,children:n.cloneElement(t,{ref:a})})}let u=e=>{let{children:t,initial:r,isPresent:l,onExitComplete:o,custom:c,presenceAffectsLayout:u,mode:h}=e,x=(0,a.h)(m),p=(0,n.useId)(),f=(0,n.useCallback)(e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;o&&o()},[x,o]),y=(0,n.useMemo)(()=>({id:p,initial:r,isPresent:l,custom:c,onExitComplete:f,register:e=>(x.set(e,!1),()=>x.delete(e))}),u?[Math.random(),f]:[l,f]);return(0,n.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[l]),n.useEffect(()=>{l||x.size||!o||o()},[l]),"popLayout"===h&&(t=(0,s.jsx)(d,{isPresent:l,children:t})),(0,s.jsx)(i.O.Provider,{value:y,children:t})};function m(){return new Map}var h=r(2781);let x=e=>e.key||"";function p(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}var f=r(7421);let y=e=>{let{children:t,custom:r,initial:i=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:d="sync",propagate:m=!1}=e,[y,b]=(0,h.oO)(m),j=(0,n.useMemo)(()=>p(t),[t]),v=m&&!y?[]:j.map(x),g=(0,n.useRef)(!0),N=(0,n.useRef)(j),k=(0,a.h)(()=>new Map),[w,M]=(0,n.useState)(j),[C,Z]=(0,n.useState)(j);(0,f.L)(()=>{g.current=!1,N.current=j;for(let e=0;e<C.length;e++){let t=x(C[e]);v.includes(t)?k.delete(t):!0!==k.get(t)&&k.set(t,!1)}},[C,v.length,v.join("-")]);let E=[];if(j!==w){let e=[...j];for(let t=0;t<C.length;t++){let r=C[t],s=x(r);v.includes(s)||(e.splice(t,0,r),E.push(r))}"wait"===d&&E.length&&(e=E),Z(p(e)),M(j);return}let{forceRender:S}=(0,n.useContext)(l.p);return(0,s.jsx)(s.Fragment,{children:C.map(e=>{let t=x(e),n=(!m||!!y)&&(j===C||v.includes(t));return(0,s.jsx)(u,{isPresent:n,initial:(!g.current||!!i)&&void 0,custom:n?void 0:r,presenceAffectsLayout:c,mode:d,onExitComplete:n?void 0:()=>{if(!k.has(t))return;k.set(t,!0);let e=!0;k.forEach(t=>{t||(e=!1)}),e&&(null==S||S(),Z(N.current),m&&(null==b||b()),o&&o())},children:e},t)})})}}},function(e){e.O(0,[126,978,980,681,452,744],function(){return e(e.s=2618)}),_N_E=e.O()}]);